# 야옹이와 수프

[![Build/Release](https://github.com/vientorepublic/catsoup/actions/workflows/build-release.yml/badge.svg?branch=dev)](https://github.com/vientorepublic/catsoup/actions/workflows/build-release.yml)

프로그래밍 실습 과제

---

## 작성/테스트 환경

- **OS**: Macbook Pro M4 ARM64 (MacOS 15 Sequoia)
- **Compiler**: Apple clang 16.0.0 (clang-1600.0.26.3) POSIX compatible
- **Standard**: C11
- **Build Tool**: GNU Make 3.81

---

## 크로스 플랫폼 지원

본 프로젝트는 Apple, Linux, Windows에서 컴파일 가능합니다.

### 지원 플랫폼

- **Linux**: x86_64, ARM64
- **MacOS**: 15 Sequoia (ARM64)
- **Windows**: 11 (x86_64)

---

## 컴파일 방법

```bash
make
```

---

## 게임 소개

### 인트로 & 준비

- 야옹이 그림을 그리고 이름을 입력받습니다.
- 1초 후 화면을 지웁니다.
- 매 턴마다 화면을 지우고 상태를 다시 출력합니다.

---

## 주요 기능

### 상태 출력

현재 상태를 출력합니다.

예시:

```
==================== 현재 상태 ===================
현재까지 만든 수프: 0개
집사와의 관계(0~4): 2
그럭저럭 쓸 만한 집사입니다.
================================================
```

출력 내용:

- 지금까지 만든 수프의 개수
- 친밀도 값과 설명

#### 친밀도 설명

- **0**: 곁에 오는 것조차 싫어합니다.
- **1**: 간식 자판기 취급입니다.
- **2**: 그럭저럭 쓸만한 집사입니다. _(초기값)_
- **3**: 훌륭한 집사로 인정받고 있습니다.
- **4**: 집사 껌딱지입니다.

---

### 상호작용

#### 0: 아무것도 하지 않기

- 4/6 확률로 친밀도 하락
- 친밀도는 0보다 작아지지 않음

#### 1: 긁어주기

- 2/6 확률로 친밀도 상승
- 친밀도는 4보다 커지지 않음

---

### 상호작용 메뉴

게임 중 상호작용 메뉴를 열어 고양이와 다양한 상호작용을 할 수 있습니다.

#### 메뉴 옵션

1. **아무것도 하지 않음**

   - 4/6 확률로 친밀도가 하락합니다.
   - 친밀도는 0보다 작아지지 않습니다.

2. **긁어 주기**

   - 고양이의 턱을 긁어줍니다.
   - 2/6 확률로 친밀도가 상승합니다.
   - 친밀도는 4보다 커지지 않습니다.

3. **간식 주기**

   - 고양이에게 간식을 줍니다.
   - 3/6 확률로 친밀도가 상승합니다.
   - 친밀도는 4보다 커지지 않습니다.

4. **장난감 던지기**
   - 고양이에게 장난감을 던집니다.
   - 2/6 확률로 친밀도가 상승하고, 1/6 확률로 친밀도가 하락합니다.
   - 친밀도는 0보다 작아지지 않고, 4보다 커지지 않습니다.

---

### 방 그리기

- 방 구조:
  - 1행: 집(H)과 냄비(B)
  - 2행: 야옹이(C)
- 야옹이 위치:
  - 집과 같은 열 → 집에 들어간 상태
  - 냄비와 같은 열 → 수프를 만드는 중

예시:

```
##########
#H B     #
#C       #
##########
```

---

### 이동

- 야옹이는 좌우로 한 칸 움직일 수 있음.
- 주사위 결과에 따라 이동 방향 결정:
  - (6 - 친밀도) 이상 → 냄비 쪽으로 이동
  - 그 외 → 집 쪽으로 이동

---

### 행동

- 야옹이가 집에 있으면 아무 이벤트도 발생하지 않음.
- 냄비에 있으면 수프 1개를 만듦.
  - 수프 종류: 감자 수프, 양송이 수프, 브로콜리 수프 _(무작위)_

예시:

```
쫀떡이(가) 감자 수프를 만들었습니다!
현재까지 만든 수프: 1개
```

---

### 상점

게임 중 상점을 열어 수프를 사용해 아이템을 구매할 수 있습니다.

#### 상점 메뉴

1. **친밀도 증가 아이템 (수프 3개)**

   - 수프 3개를 사용해 친밀도를 1 증가시킵니다.
   - 친밀도는 최대 4까지 증가할 수 있습니다.
   - 수프가 부족하면 구매할 수 없습니다.

2. **나가기**

   - 상점을 나가고 게임으로 돌아갑니다.

#### 예시

```
==================== 상점 ====================
현재 수프 개수: 5개
1. 친밀도 증가 아이템 (수프 3개) - 친밀도 +1
2. 나가기
=============================================
구매할 항목을 선택하세요: 1
친밀도가 증가했습니다! 현재 친밀도: 3
```

# 야옹이와 수프 v2

## 주요 변경 사항

### 상태창 변경

- **새로 추가된 정보**: CP(Cute Point), 기분 출력

### 방 그리기

- **놀이기구 없음**: 빈 방 출력
- **놀이기구 있음**:
  - 스크래처(S), 캣타워(T)가 무작위 위치에 배치됨

## 기분 시스템

- **기본 기분 수치**: 0~3 (초기값: 3)
- **기분 상태 예시**:
  - 0: 매우 나쁨
  - 1: 심심함
  - 2: 식빵 굽기
  - 3: 골골송 부르기

### 기분 나빠짐 이벤트

- 매 턴 시작 시 **주사위 굴림**
  - `주사위 눈 ≤ (6 - 친밀도)`일 경우, 기분 -1
  - 메시지 예:
    > "아무 이유 없이 기분이 나빠집니다. 고양이니까?"

## 이동 규칙 변경

- **좌우 이동 삭제**
- **기분에 따라 이동 방향 결정**:
  - 0: 집으로 이동
  - 1: 가장 가까운 놀이기구로 이동 (없으면 기분 -1)
  - 2: 제자리에 대기
  - 3: 냄비 쪽으로 이동

## 행동

- **오브젝트와 같은 열에 있으면 행동 수행**
- **행동 결과**:
  - 집: 한 턴 쉬면 기분 +1
  - 냄비: 수프 만들기
  - 스크래처: 기분 +1
  - 캣타워: 기분 +2

## 상호작용

### 입력 옵션 (장난감 여부에 따라 달라짐)

예시:

```
0. 아무것도 하지 않음
1. 긁어 주기
2. 장난감 쥐로 놀아 주기
3. 레이저 포인터로 놀아 주기
```

### 상호작용 효과

| 상호작용       | 기분 변화 | 친밀도 변화 조건 |
| -------------- | --------- | ---------------- |
| 아무것도 안 함 | -1        | 주사위 ≤ 5 → -1  |
| 긁어 주기      | 변화 없음 | 주사위 ≥ 5 → +1  |
| 장난감 쥐      | +1        | 주사위 ≥ 4 → +1  |
| 레이저 포인터  | +2        | 주사위 ≥ 2 → +1  |

## CP

- **계산식**: `MAX(0, 기분 – 1) + 친밀도`
- **매 턴 생산**
- 예: 기분 3, 친밀도 2 → CP 4 생산

## 상점 시스템

### 상품 목록

```
1. 장난감 쥐: 1 CP
2. 레이저 포인터: 2 CP
3. 스크래처: 4 CP
4. 캣타워: 6 CP
```

### 특징

- 중복 구매 불가 (품절 표시)
- CP 부족 시 구매 불가
- 놀이기구는 무작위 위치에 배치됨

## 돌발 퀘스트

- **3번째 턴**에 반드시 발생
- **사용자가 직접 수행**해야 함 (ex. 미니게임)
- 단순 이벤트가 아닌, **행동 유도형 퀘스트** 구성
